<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	
</h:head>


<h:body>
<!--  Chargement du template de la page -->
	<ui:composition template="/templates/layout.xhtml">
		<!--  redéfinition du corps -->
		<ui:define name="corps">
<!-- ECRIRE ICI LE CORPS DE LA PAGE -->
	<h3>Votre panier : </h3>
		<br/>
		<p:separator/>
		<h:outputText value="Votre panier est vide, il faut ajouter des articles avant" rendered="#{clientManagedBean.rendu2}"></h:outputText>
		
		<p:dataTable id="listeP" var="liste" value="#{clientManagedBean.listePanier}" rendered="#{clientManagedBean.rendu1}">
		  
    <p:column headerText="Id :">
        <h:outputText value="#{liste.idProduit}" />
    </p:column>
 <p:column headerText="Designation :">
        <h:outputText value="#{liste.designation}" />
    </p:column>
 <p:column headerText="Description :">
        <h:outputText value="#{liste.description}" />
    </p:column>
    <p:column headerText="Quantité(e)) :">
        <h:outputText value="#{liste.quantite}" />
    </p:column>
 <p:column headerText="Prix total :">
        <h:outputText value="#{liste.prix}" />
    </p:column>
     <p:column headerText="Retirer du panier ?">
        <p:commandButton value="Supprimer" icon="ui-icon-check" action="#{clientManagedBean.supprimerProduit}" update="@all"  >
		<!--  avec un listener, récupérer le produit -->
		<f:setPropertyActionListener value="#{liste}" target="#{clientManagedBean.produit}"></f:setPropertyActionListener>
		 </p:commandButton>
    </p:column>
  
</p:dataTable>
<p:commandButton value="Vider votre panier" icon="ui-icon-check" action="#{clientManagedBean.supprimerPanier}" update="@all" rendered="#{clientManagedBean.rendu1}"/>
<br/><br/>

		<h:outputLink value="enregistrement.xhtml" rendered="#{clientManagedBean.rendu1}">Passer votre commande</h:outputLink>
		
	<!-- fin de la zone d'edition -->
			
		</ui:define>
		
	</ui:composition>	


	
</h:body>
</html>