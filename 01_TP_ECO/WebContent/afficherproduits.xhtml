<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	
</h:head>


<h:body>
<!--  Chargement du template de la page -->
	<ui:composition template="/templates/layout.xhtml">
		<!--  redéfinition du corps -->
		<ui:define name="corps">
<!-- ECRIRE ICI LE CORPS DE LA PAGE -->
	<h:form>
		<p:inputText value="#{navigationManagedBean.categorie.idCategorie}" />
		 <p:commandButton value="afficher la liste des produits" icon="ui-icon-check" action="#{navigationManagedBean.listePro}" update="test"/>
	</h:form>
		<br/>
		<p:separator/>
		<p:dataTable id="test" var="liste" value="#{navigationManagedBean.listeProduit}">
		  
    <p:column headerText="Id :">
        <h:outputText value="#{liste.idProduit}" />
    </p:column>
 <p:column headerText="Designation :">
        <h:outputText value="#{liste.designation}" />
    </p:column>
 <p:column headerText="Description :">
        <h:outputText value="#{liste.description}" />
    </p:column>
 <p:column headerText="Prix :">
        <h:outputText value="#{liste.prix}" />
    </p:column>
 <p:column headerText="Prix :">
      
    </p:column>
  <p:column headerText="Achat"> 
  <h:form>
    <h:inputText value="#{clientManagedBean.produit.quantite}" />
		 <p:commandButton value="Ajout panier" icon="ui-icon-check" action="#{clientManagedBean.ajoutPanier}" >
		<!--  avec un listener, récupérer le champ correspondant à l'id du produit pour le réutiliser et ajouter le produit au panier -->
		<f:setPropertyActionListener value="#{liste.idProduit}" target="#{clientManagedBean.produit.idProduit}"></f:setPropertyActionListener>
		 </p:commandButton>
	</h:form>
  </p:column>
  
</p:dataTable>

	
	<!-- fin de la zone d'edition -->
			
		</ui:define>
		
	</ui:composition>	


	
</h:body>
</html>